<!DOCTYPE html>
<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <title>Kim Seoyeon's Page</title>
        <meta charset= "utf-8">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
        <style>
            body{
                font-family: "Jua", sans-serif;
                font-size: large;
                text-align: center;
                background-color: rgb(223, 236, 227);
            }
            a {
                color:black;
                text-decoration: none;
                transition: color 0.3s ease;
            }
            a:hover{ 
                color: rgb(80, 145, 80);
            }
            h1 {
                font-size: 60px;
                padding: 40px;
                border-bottom: 5px solid gray;
            }
            .titles{
                color:green;
            }
            #mains:hover{
                color:darkgreen;
            }
            ul {
                display: inline-block;
                text-align: left;
            }
            #todoList {
                list-style-type: none;
                margin: 20px 0;
                padding: 0;
            }
            #todoList li {
                background-color: #fff;
                padding: 10px;
                margin-bottom: 10px;
                border-radius: 4px;
                display: flex;
                align-items: center;
                gap: 10px;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            #todoInput {
                padding: 10px;
                border: 1px solid #ccc;
                border-radius: 4px;
                outline: none;
                font-family: "Jua", sans-serif;
                font-size: large;
                text-align: center;
            }
            #addButton, .delete-button {
                background-color: #4CAF50;
                color: white;
                border: none;
                border-radius: 5px;
                padding: 8px 16px;
                font-size: 16px;
                cursor: pointer;
                transition: background-color 0.3s ease, transform 0.2s ease;
            }
            #addButton:hover, .delete-button:hover {
                background-color: #45a049;
            }
            #addButton:active, .delete-button:active {
                transform: scale(0.98);
            }
            input[type="checkbox"] {
                -webkit-appearance: none;
                appearance: none;
                background-color: #fff; /* 체크 전 배경색 */
                border: 2px solid #4CAF50; /* + 버튼과 동일한 색상 */
                border-radius: 4px;
                width: 20px;
                height: 20px;
                cursor: pointer;
                transition: background-color 0.3s ease;
                position: relative;
            }
            input[type="checkbox"]:checked {
                background-color: #4CAF50; /* 체크 시 배경색 */
                border: none;
            }
            /* 체크 표시를 위한 커스텀 스타일 */
            input[type="checkbox"]:checked::after {
                content: '';
                position: absolute;
                left: 6px;
                top: 0px;
                width: 6px;
                height: 12px;
                border: solid #fff;
                border-width: 0 2px 2px 0;
                transform: rotate(45deg);
            }
        </style>
    </head>
    
    <body>
        <img src="ponyo.jpg" width="100%">
    
        <h1 style = "color: rgb(55, 90, 45); text-shadow: 0 4px 8px rgb(161, 190, 172); 
        -webkit-text-stroke: 0.2px rgb(0, 0, 0);">Kim Seoyeon's Page</h1>
    
        <div class = "todo-container">
            <h2 class="titles">To-do List</h2>
            <div id = "inputField">
                <input type = "text" id = "todoInput" placeholder="오늘의 할 일 입력"
                 onkeydown="keyCodeCheck();">
                <button type = "button" id = "addButton"
                 onclick="makeTodoList();">
                    +
                </button>
            </div>
            <ul id = "todoList">

            </ul>
        </div>
    
        <h2 class="titles">Information</h2>
        <p><strong>Name</strong>: 김서연</p>
        <p><strong>Age</strong>: 21 (2005)</p>
        <p><strong>Education</strong>: 이화여자대학교</p>
        <p><strong>Major</strong>: 컴퓨터공학</p>
        <p><strong>MBTI</strong>: ESTP</p><br>

        <h2 class="titles">Activities</h2>
        <ul>
            <li>2024 이화여자대학교 호크마멘토</li>
            <li>2024 이화여자대학교 문화기획동아리 PartyE 부장</li>
            <li>2024 서울 연합 밴드동아리 파포리 임원진</li>
            <li>2024 이화여자대학교 모교방문단</li>
            <li>2024 이화 DnA Lab 활동 소그룹 선정, 프로젝트 이수</li>
            <li>2024 이화여자대학교 중앙 알고리즘, 프로그래밍 동아리 EDOC 18기</li>
        </ul>
        <br><br>
        <h2 class="titles" title = "Programming">Programming</h2>
        <ul>
            <li><a href = "https://www.notion.so/12b426556c834f94acf7c80c624f939b?v=980599c5195b45dd8e3f2ae189cda8df&pvs=4"
            target = "_blank" id="mains">All</a></li>
            <li>
                <a href = "https://www.notion.so/13b7972663cd80499282f6ab62dcb2ce?pvs=4"
                target = "_blank" title = "Frontend Study" id="mains">Frontend Study</a>
                <ol>
                    <li><a href = "html.html" target = "_blank" title = "HTML">HTML</a></li>
                    <li><a href = "css.html" target = "_blank" title = "CSS">CSS</a></li>
                    <li><a href = "javascript.html" target = "_blank" title = "JAVASCRIPT">Javascripts</a></li>
                </ol>
            </li>
            <li>projects
               <ol>
                <li><a href = "DnAproject.html" target = "_blanck" title = "DNALABPROJECT">DnA Lab Project</a></li>
               </ol>
            </li>
        </ul>
        <br><br>
        <h3 class="titles">Today's TMI</h3>
        <img src="majyo.jpg" width="10%"><br><br>
        요즘은 토플 열공 중 . . .
        <br><br>
        <div id="disqus_thread"></div>
        <script>
            /**
            *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
            *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
            /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
            (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = 'https://web1-jkrq5azacq.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

        <script>
            // 처음 페이지 로드될 때 저장된 데이터 불러오기
            document.addEventListener('DOMContentLoaded', loadTodos);

            function keyCodeCheck(){
                console.log(window.event);
                // enter의 값 === 13
                if (window.event.keyCode === 13 && document.querySelector('#todoInput').value != ''){
                    makeTodoList();
                }
            }

            function makeTodoList(text = '', isChecked = false) {
                const todoInput = document.querySelector('#todoInput');
                // text 값이 있으면 text 값을, 그렇지 않으면 todoInput의 값을 사용용
                const inputValue = text || todoInput.value.trim();

                // 빈 값이면 함수 종료
                if (inputValue === '') return;

                // 리스트 생성
                const newLi = document.createElement('li');

                // 체크박스 생성
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.checked = isChecked;

                // 체크박스 이벤트 추가 (완료된 항목 취소선 효과)
                const newSpan = document.createElement('span');
                newSpan.textContent = inputValue;
                if (isChecked) newSpan.style.textDecoration = 'line-through';

                checkbox.addEventListener('change', function () {
                    newSpan.style.textDecoration = this.checked ? 'line-through' : 'none';
                    saveTodos(); // 체크 상태 변경 시 localStorage 업데이트
                });

                newLi.appendChild(checkbox);
                newLi.appendChild(newSpan);

                // 삭제 버튼 생성
                const deleteButton = document.createElement('button');
                deleteButton.textContent = 'del';
                deleteButton.classList.add('delete-button');
                deleteButton.addEventListener('click', function () {
                    newLi.remove();
                    saveTodos(); // 삭제 후 localStorage 업데이트
                });

                newLi.appendChild(deleteButton);

                // ul에 추가
                document.querySelector('#todoList').appendChild(newLi);

                // 입력창 비우기 (text가 직접 들어온 경우엔 비우지 않음)
                // 스토리지 데이터가 아니라 직접 입력받아 추가하는 경우 입력창 비움
                if (!text) todoInput.value = '';
                saveTodos();
            }


            // 할 일 추가시 localStorage 저장 함수
            function saveTodos(){
                const todos = [];

                document.querySelectorAll('#todoList li').forEach(li => {
                    // list 내용 
                    const text = li.querySelector('span').textContent;
                    // 체크 박스 체크 여부부
                    const isChecked = li.querySelector('input[type="checkbox"]').checked;
                    todos.push({text, isChecked});
                });

                localStorage.setItem('todos', JSON.stringify(todos));
            }

            // 사이트 오픈시 저장된 데이터 렌더링 함수 
            function loadTodos(){
                const savedTodos = JSON.parse(localStorage.getItem('todos')) || [];
                // saveTodos의 모든 저장된 값에 대해 (todo라는 이름으로 칭함함)
                savedTodos.forEach(todo => {
                    makeTodoList(todo.text, todo.isChecked);
                });
            }
        </script>
    </body>
</html>